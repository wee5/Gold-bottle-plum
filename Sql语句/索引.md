# 索引

- 不读取正常表的情况下，更快的查找数据
- 更新表时，该表的索引也会更新
- 在经常被搜索的表创建索引

## 索引与表的关系

* 表的建立：一群有**关联的数据**记录在同一表中
* 索引设置：**经常被搜索的数据**需要建立索引

## 索引分类

* **唯一索引**：表上一个字段或者多个字段的组合建立的索引，这些字段组合起来能够确定唯一，允许且仅允许存在一条空值
* **非唯一索引**：表上一个字段或者多个字段的组合建立的索引，可以重复，不需要唯一
* **主键索引**：（主索引）根据主键pk_clolum（length）建立索引，不允许重复，不允许空值；
* **聚合索引**：表中记录的物理顺序与键值的索引顺序相同
* **非聚合索引**：表中记录的物理顺序与键值的索引顺序无关
* **全文索引**：在某个字段设置全文索引后，根据特定语法查找满足条件的字段;
  * 全文搜索在 MySQL 中是一个 FULLTEXT 类型索引。FULLTEXT 索引在 MySQL 5.6 版本之后支持 InnoDB，而之前的版本只支持 MyISAM 表。
  * 目前只有char、varchar，text 列上可以创建全文索引。
  *  like “value%” 可以使用索引，但是对于 like “%value%” 这样的方式，执行全表查询
* **普通索引**：用表中的普通列构建的索引，没有任何限制
* **组合索引**：用多个列组合 构建的索引，但是在使用过程中有诸多规则，遵循最左前缀原则，顺序至关重要
* **Hash索引**：（Memory存储引擎）是通过索引列的值计算出hashCode,之后在相应的物理位置存取索引列的值，由于hashCode的唯一性，因此Hash索引不能进行范围查找或者是顺序查找。

## 局和索引和非聚合索引



## 什么时候需要设置索引

| 动作描述                   | 使用聚集索引 | 使用非聚集索引 |
| -------------------------- | ------------ | -------------- |
| 外键列                     | 应           | 应             |
| 主键列                     | 应           | 应             |
| 列经常被分组排序(order by) | 应           | 应             |
| 返回某范围内的数据         | 应           | 不应           |
| 小数目的不同值             | 应           | 不应           |
| 大数目的不同值             | 不应         | 应             |
| 频繁更新的列               | 不应         | 应             |
| 频繁修改索引列             | 不应         | 应             |
| 一个或极少不同值           | 不应         | 不应           |

## 常用命令

- 查看某表的索引：show index from Table
- https://blog.csdn.net/bingguang1993/article/details/81186797
- https://www.runoob.com/sql/sql-create-index.html
- https://www.cnblogs.com/linyouyi/p/9903010.html
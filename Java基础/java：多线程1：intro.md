# java：多线程1：intro



## 程序，进程，线程

* **程序**：一个没有生命的实体
* **进程**：处理器赋予程序生命，使其成为活动的实体，即进行的程序；一个进程有自己的地址空间；**进程是线程的容器**
  * 文本区域：存储处理器执行的代码
  * 数据区域：存储变量和进程执行期使用的动态分配的内存
  * 堆栈区：存储着活动的过程调用的指令和本地变量
* **线程**：进程中的一个独立控制单元，线程在控制着进程的执行；一个线程至少有一个进程
* **多线程**：一个进程有多个线程



## 为什么使用多线程

* 更好利用cpu资源；单线程中，任务二必须等到任务一结束后才能进行；多线程中，主线程执行任务时，可以执行其他任务，不需要等待
* 进程之间不能共享数据，线程可以
* 系统创建进程需要为该进程重新分配系统资源，创建线程代价比较小
* java语言内置多线程功能支持，简化java多线程编程



### 线程的生命周期

* **新建：**从新建一个线程对象到程序start()该线程之间的状态，都是新建状态
* **就绪**：线程对象调用start()后，处于就绪状态，等到JVM里的线程调度器的调度
* **运行**：就绪状态下线程在获取CPU资源后就可以执行run()，此时的线程便处于运行状态；运行状态的线程可以变为就绪，阻塞及死亡状态
* **等待，阻塞，睡眠**：在一个线程执行了sleep（睡眠），suspend（挂起）等方法后会失去占有的资源，从而进入阻塞状态，在睡眠结束后可以重新进入就绪状态
* **终止**：run()方法完成后或发生其他终止条件时，就会切换到终止状态

#### 生命周期演示

* 前提：电脑有一个包含一个正在运行的线程的进程
* 读取到新建线程代码，**新建**一个线程
* 读取到代码start()，将线程放入进程中，进入**就绪**状态
* 第一个线程运行结束，进入**终止状态**；该线程获得cpu资源，进入**运行**状态
* 读取sleep，suspend代码，进入**阻塞**状态



* **睡眠和阻塞的区别**：
  * 阻塞是线程生命周期的一部分；睡眠，挂起等会进入阻塞，阻塞的线程等待进入就绪状态
  * 睡眠是sleep方法，最好不要用它描述线程的阻塞状态



参考：https://blog.csdn.net/alan_liuyue/article/details/88351795?depth_1-utm_source=distribute.pc_relevant.none-task&utm_source=distribute.pc_relevant.none-task
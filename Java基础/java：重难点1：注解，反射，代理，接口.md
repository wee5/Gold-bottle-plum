# java：重难点1：注解，反射，代理，接口



* **注解的支持和字节码动态生成属于编译技术**

* **代理模式，反射，注解的关系**
  - 静态代理模式利用接口的多态，动态代理利用反射
  - 注解利用动态代理，反射



## 设计意义

* 接口：
  * 在jdk或其他框架中，存在已经设计好的代码，他们**相互依赖和调用**；依赖和调用需要**确定类型，方法名**；方法体可以有不同实现；
  * 接口可以实现上面需要；**接口申明返回值，方法名；利用多态，实例化类型不变**，并实现方法；**提前确定类型，方法名，返回类型；方法体留给开发者扩展**
* 注解：
  * 主要作用就是**替代配置文件**
  * 原则：**与具体场景相关的配置使用注解的方式与数据关联，与具体场景无关的配置放于配置文件中**
* 代理：
  * 实现**无侵入式的代码扩展**，也就是方法的增强；让你可以在不用修改源码的情况下，增强一些方法
* 反射：
  * 反射是指在**运行时能查看一个类的状态及特征，并能进行动态管理的功能**
  * 反射的应用场景：在Java程序中许多对象在运行时都会出现两种类型：编译时类型和运行时类型。**编译类型为申明类型，运行类型为实例化类型**
    * 如：Person p =new Student()；编译类型为Person，运行类型为Student；而且程序在运行时还可能接收到**外部传入的一个对象，该对象的编译时类型为Object，但程序又需要调用该对象运行时类型的方法**；
    * 解决上面问题，**程序需要在运行时发现对象和类的真实信息，但编译时无法预知该对象和类可能属于什么类，程序只能依赖在运行时发现该对象和类的真实信息**，即反射
  * 缺点：
    * 慢于直接代码
    * 使用反射会模糊程序内部逻辑
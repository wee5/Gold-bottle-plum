# springcloud1：intro

微服务是实现分布式架构的一种方式，springcloud是实现分布式的一种技术



## 微服务

传统开发模式下，绝大部分web应用都是采用单体架构风格来进行构建的，这意味着web应用都是作为单个可部署的软件制品进行交付，所有的接口，业务逻辑，持久层都被打爆在web应用中，并且部署在一台服务器上，缺点诸多，多团队协同开发成本极高

### 单体应用存在的问题

随着业务的发展，开发变得越来越复杂

修改，新增某个功能，需要对整个系统进行测试，重新部署

一个模块出现问题，可能导致某个整个系统奔溃

多个开发团队同时对数据进行管理，容易产生安全漏洞

各个模块使用同一个技术进行开发，各个模块很难根据实际情况选择更适合的技术框架，局限性很大

模块内容过于复杂，若员工离职，可能需要很长时间进行工作交接

### 分布式，集群

集群：一台服务器无法负荷高并发的数据访问量，那就设置十台服务器一起分担压力（**物理层面**）。很多人感同一件事情，来分摊压力

分布式：讲一个复杂的问题拆分成若干个简单的小问题，讲一个大型的项目架构拆分成若干个微服务来协同完成（**软件设计层面**）。将一个庞大的工作拆分成若干个小步骤，分别由不同的人来完成这些小步骤，最终将所有的结果进行整合实现大的需求

### 微服务的优点

各个服务的开发，测试，部署相互独立。开发时不会相互依赖，若用户量很大时，很容易对其进行负载

当新需求出现时，需要考虑兼容性，影响度等各个问题，使用微服务可以直接跳过这些环节

使用微服务将项目进行拆分后，各服务之间就消除了诸多限制，只需要保证对外提供正常的接口就行，至于什么语言和框架不用关心

### 微服务缺点

**微服务拆分基于业务**。如何拆分给团队协作带来挑战

服务调用方需要使用服务接口时，沟通成本较大

各个服务相互独立，数据也独立，当调用多个服务接口来进行操作时，如何保证**服务的数据一致性**，这是问题也是难点



## springcloud组件

![avatar](图片引用\Snipaste_2020-06-27_21-53-23.png)

### Eureka

springcloud集成Eureka实现服务治理

eureka server：注册中心

eureka client：所有要进行注册的微服务通过eureka client连接到eureka server，完成注册

服务治理核心三部分：服务提供者，服务消费者，注册中心

服务注册：微服务启动时，将信息存储在注册中心

服务发现：服务消费者从注册中心获取服务提供者的网络信息，通过该信息调用服务